<div class="flex flex-col gap-4">
  <app-back-page-button [disabled]="store.isProductAdding()" [route]="'/products'" />
  <div class="flex flex-col gap-3">
    <h1>{{ header() }}</h1>
    <p-card>
      <div class="flex flex-col gap-3" [formGroup]="productFormGroup">
        <p-iftalabel>
          <input class="w-full" formControlName="name" id="name" pInputText />
          <label for="name">Name</label>
        </p-iftalabel>
        <p-iftalabel>
          <input class="w-full" formControlName="description" id="description" pInputText />
          <label for="description">Description</label>
        </p-iftalabel>
        <p-iftalabel>
          <input class="w-full" formControlName="price" id="price" pInputText />
          <label for="price">Price</label>
        </p-iftalabel>
      </div>
    </p-card>
  </div>
  @if (mode() !== modes().VIEW) {
    <div class="w-full flex justify-end items-center gap-3">
      <p-button
        [disabled]="isActionLoading() || productFormGroup.invalid"
        [label]="actionLabel()"
        (onClick)="onActionClicked()"
      ></p-button>
      @if (store.isProductAdding() || store.isProductUpdating()) {
        <app-spinner />
      }
    </div>
  }
</div>

<p-toast />
