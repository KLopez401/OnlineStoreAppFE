<div class="flex flex-col gap-4">
  <app-back-page-button [disabled]="store.isCustomerAdding()" [route]="'/customers'" />
  <div class="flex flex-col gap-3">
    <h1>{{ header() }}</h1>
    <p-card>
      <div class="flex flex-col gap-3" [formGroup]="customerFormGroup">
        <p-iftalabel>
          <input class="w-full" formControlName="firstName" id="firstName" pInputText />
          <label for="firstName">First Name</label>
        </p-iftalabel>
        <p-iftalabel>
          <input class="w-full" formControlName="lastName" id="lastName" pInputText />
          <label for="lastName">Last Name</label>
        </p-iftalabel>
        <p-iftalabel>
          <input class="w-full" formControlName="email" id="email" pInputText />
          <label for="email">Email</label>
        </p-iftalabel>
        <p-iftalabel>
          <input class="w-full" formControlName="phone" id="phone" pInputText />
          <label for="phone">Phone</label>
        </p-iftalabel>
      </div>
    </p-card>
  </div>
  @if (mode() !== modes().VIEW) {
    <div class="w-full flex justify-end items-center gap-3">
      <p-button
        [disabled]="isActionLoading() || customerFormGroup.invalid"
        [label]="actionLabel()"
        (onClick)="onActionClicked()"
      ></p-button>
      @if (store.isCustomerAdding() || store.isCustomerUpdating()) {
        <app-spinner />
      }
    </div>
  }
</div>

<p-toast />
